<!-- app.component.html -->


<section class="vh-100 gradient-custom">
  <div class="fixed-top">
    <img src="../../assets/qr_code_logo.png" class="rounded mx-auto d-block img-fluid" alt="QR Code Logo" style="width: 100px; height: 100px;">
  </div>
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5" style="width: 600px;">
        <div class="card shadow-2-strong" style="border-radius: 1rem;">
          <div class="card-body p-5 text-center">

            <h3 class="mb-5">Login To Your QR Code Account</h3>

            <form class="login-form" #loginForm="ngForm" (ngSubmit)="onSubmit()">
              <input type="email" id="contact" [(ngModel)]="contact" class="form-control form-control-lg" name="contact" disabled="true" required/>

              <br>
              <div class="form-outline mb-4">
                <input class="code_input" name="otp1" [(ngModel)]="otpValue1" required>
                <input class="code_input" name="otp2" [(ngModel)]="otpValue2" required>
                <input class="code_input" name="otp3" [(ngModel)]="otpValue3" required>
                <input class="code_input" name="otp4" [(ngModel)]="otpValue4" required>
                <input class="code_input" name="otp5" [(ngModel)]="otpValue5" required>
                <input class="code_input" name="otp6" [(ngModel)]="otpValue6" required>
              </div>

              <!-- <input type="hidden" name="full_Code" id="fullCode" value=""> -->
              
              <button class="btn btn-outline-primary btn-lg btn-block" type="submit" [disabled]="loginForm.invalid">Confirm</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!--
<script>
  const inputElements = [...document.querySelectorAll('input.code_input')]
  const fullCode = document.getElementById('fullCode')

  inputElements.forEach((ele, index)=>{
      ele.addEventListener('keydown', (e)=>{
          if(e.keyCode === 8 && e.target.value === '')
              inputElements[Math.max(0, index - 1)].focus()
      })
      ele.addEventListener('input', (e)=>{
          const[first,...rest] = e.target.value
          e.target.value = first ?? ''
          const lastInputBox = index === inputElements.length - 1
          const contentInserted = first!== undefined

          if(contentInserted && !lastInputBox){
              inputElements[index + 1].focus()
              inputElements[index + 1].value = rest.join('')
              inputElements[index + 1].dispatchEvent(new event('input'))
          }

          const allInputsHaveValue = inputElements.every(input => input.value.trim() !== '')

          if(allInputsHaveValue){
              setCodeInForm(e)
          }
      })
  })

  function setCodeInForm(e){
      e.preventDefault()
      const code = inputElements.map(({value}) => value).join('')
      fullCode.value = code;
  }
</script>-->

<!--
<div class="login-container">
    <div class="centered">
      <div class="login-box">
        <h1 class="login-heading">Login to ChatGPT</h1>
        <form class="login-form" #loginForm="ngForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <input placeholder="Enter Contact" class="form-control" id="contact" [(ngModel)]="contact" name="contact" required>
          </div>
          <div class="form-group">
            <input placeholder="Enter Otp" class="form-control" id="otp" [(ngModel)]="otpValue" name="otp" required>
          </div>
          <button type="submit" class="btn btn-primary" [disabled]="loginForm.invalid">Login</button>
        </form>
      </div>
    </div>
  </div>
-->